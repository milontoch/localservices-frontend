(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{8195:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return r(9517)}])},9871:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5893),i=r(1664),s=r.n(i),o=r(1163),a=r(7294),c=r(8561);function l(e){let{children:t}=e,r=(0,o.useRouter)(),[i,l]=(0,a.useState)(null);return(0,a.useEffect)(()=>{l((0,c.PR)())},[]),(0,n.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,n.jsx)("nav",{className:"bg-white shadow-md",children:(0,n.jsx)("div",{className:"container mx-auto px-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,n.jsx)(s(),{href:"/",className:"text-2xl font-bold text-primary-600",children:"LocalServices"}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(s(),{href:"/blog",className:"text-gray-700 hover:text-primary-600",children:"Blog"}),i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"text-gray-700",children:["Hi, ",i.full_name||i.name]}),(0,n.jsx)("button",{onClick:()=>{(0,c.H6)(),(0,c.kX)(),l(null),r.push("/")},className:"btn-secondary",children:"Logout"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s(),{href:"/auth/login",className:"text-gray-700 hover:text-primary-600",children:"Login"}),(0,n.jsx)(s(),{href:"/auth/register",className:"btn-primary",children:"Sign Up"}),(0,n.jsx)(s(),{href:"/provider/register",className:"btn-secondary",children:"Register as Provider"})]})]})]})})}),(0,n.jsx)("main",{className:"flex-grow",children:t})]})}},9517:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(5893),i=r(7294),s=r(1163),o=r(9008),a=r.n(o),c=r(9871),l=r(8561),u=r(1664),d=r.n(u);function m(){let e=(0,s.useRouter)(),[t,r]=(0,i.useState)(null);return((0,i.useEffect)(()=>{let t=(0,l.PR)();if(!t||"admin"!==t.role){e.push("/auth/login");return}r(t)},[e]),t)?(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"Admin Dashboard - LocalServices"})}),(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Admin Dashboard"}),(0,n.jsxs)("p",{className:"text-gray-600",children:["Welcome back, ",t.name||t.email]})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{title:"Provider Verifications",description:"Review and approve provider verification requests",href:"/admin/verifications",icon:"✓",color:"bg-blue-50 text-blue-600"},{title:"Manage Providers",description:"View and manage all service providers",href:"/admin/providers",icon:"\uD83D\uDC64",color:"bg-green-50 text-green-600"},{title:"Manage Users",description:"View and manage all users",href:"/admin/users",icon:"\uD83D\uDC65",color:"bg-purple-50 text-purple-600"},{title:"Review Moderation",description:"Moderate user reviews",href:"/admin/reviews",icon:"⭐",color:"bg-yellow-50 text-yellow-600"},{title:"Blog Management",description:"Create and manage blog posts",href:"/admin/blog",icon:"\uD83D\uDCDD",color:"bg-red-50 text-red-600"}].map(e=>(0,n.jsx)(d(),{href:e.href,children:(0,n.jsxs)("div",{className:"card hover:shadow-lg transition-shadow cursor-pointer",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-lg ".concat(e.color," flex items-center justify-center text-2xl mb-4"),children:e.icon}),(0,n.jsx)("h3",{className:"text-xl font-semibold mb-2",children:e.title}),(0,n.jsx)("p",{className:"text-gray-600",children:e.description})]})},e.href))})]})]}):null}},8561:function(e,t,r){"use strict";r.d(t,{CP:function(){return d},H6:function(){return R},J8:function(){return y},J9:function(){return m},Ji:function(){return D},Mu:function(){return u},NI:function(){return p},NN:function(){return k},PR:function(){return L},SK:function(){return S},V:function(){return N},VH:function(){return f},XU:function(){return h},av:function(){return E},bW:function(){return I},bl:function(){return j},dS:function(){return g},k4:function(){return C},kX:function(){return M},oO:function(){return x},sv:function(){return _},t1:function(){return l},u3:function(){return v},uB:function(){return P},wd:function(){return a},x4:function(){return c},xQ:function(){return w},z2:function(){return o},zl:function(){return b}});var n=r(7066);let i=r(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1",s=n.Z.create({baseURL:i,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let o=e=>s.post("/auth/register",e),a=e=>s.post("/auth/register-provider",e),c=e=>s.post("/auth/login",e),l=e=>s.post("/auth/request-otp",e),u=e=>s.post("/auth/verify-otp",e),d=()=>s.get("/categories"),m=e=>s.get("/providers",{params:e}),f=e=>s.get("/providers/".concat(e)),h=e=>s.post("/reviews",e),g=e=>s.post("/contact-records",e),p=e=>s.get("/contact-records/check",{params:e}),x=e=>s.post("/verifications",e,{headers:{"Content-Type":"multipart/form-data"}}),v=e=>s.get("/blog",{params:e}),b=e=>s.get("/blog/".concat(e)),N=()=>s.get("/admin/blog"),j=e=>s.post("/admin/blog",e,{headers:{"Content-Type":"multipart/form-data"}}),w=e=>s.delete("/admin/blog/".concat(e)),y=()=>s.get("/admin/verifications"),_=(e,t)=>s.put("/admin/verifications/".concat(e),t),S=e=>s.get("/admin/users",{params:e}),k=e=>s.get("/admin/providers",{params:e}),D=e=>s.get("/admin/reviews",{params:e}),C=e=>s.delete("/admin/reviews/".concat(e)),P=e=>{localStorage.setItem("access_token",e)},I=()=>localStorage.getItem("access_token"),R=()=>{localStorage.removeItem("access_token")},E=e=>{localStorage.setItem("user",JSON.stringify(e))},L=()=>{let e=localStorage.getItem("user");return e?JSON.parse(e):null},M=()=>{localStorage.removeItem("user")}}},function(e){e.O(0,[173,774,888,179],function(){return e(e.s=8195)}),_N_E=e.O()}]);