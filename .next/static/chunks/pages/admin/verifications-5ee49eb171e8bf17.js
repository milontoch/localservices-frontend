(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97],{6181:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/verifications",function(){return t(4205)}])},4205:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return o}});var r=t(5893),s=t(7294),a=t(1163),n=t(9008),c=t.n(n),d=t(9871),l=t(8561);function o(){let e=(0,a.useRouter)(),[i,t]=(0,s.useState)([]),[n,o]=(0,s.useState)(!0),[m,x]=(0,s.useState)("");(0,s.useEffect)(()=>{let i=(0,l.PR)();if(!i||"admin"!==i.role){e.push("/auth/login");return}h()},[e]);let h=async()=>{try{let e=await (0,l.J8)();t(e.data.filter(e=>"pending"===e.status))}catch(e){x("Failed to load verifications")}finally{o(!1)}},u=async e=>{if(confirm("Approve this verification?"))try{await (0,l.sv)(e,{status:"approved"}),t(i.filter(i=>i.id!==e)),alert("Verification approved")}catch(e){alert("Failed to approve verification")}},p=async e=>{if(confirm("Reject this verification?"))try{await (0,l.sv)(e,{status:"rejected"}),t(i.filter(i=>i.id!==e)),alert("Verification rejected")}catch(e){alert("Failed to reject verification")}};return n?(0,r.jsx)(d.Z,{children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-16 text-center",children:(0,r.jsx)("p",{children:"Loading..."})})}):(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(c(),{children:(0,r.jsx)("title",{children:"Provider Verifications - Admin"})}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Provider Verifications"}),m&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:m}),0===i.length?(0,r.jsx)("div",{className:"card text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-600",children:"No pending verifications"})}):(0,r.jsx)("div",{className:"space-y-4",children:i.map(e=>{var i,t,s,a,n,c;return(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg mb-2",children:null===(i=e.provider)||void 0===i?void 0:i.full_name}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Email"}),(0,r.jsx)("p",{className:"font-medium",children:null===(t=e.provider)||void 0===t?void 0:t.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Phone"}),(0,r.jsx)("p",{className:"font-medium",children:null===(s=e.provider)||void 0===s?void 0:s.phone_number})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Category"}),(0,r.jsx)("p",{className:"font-medium",children:null===(n=e.provider)||void 0===n?void 0:null===(a=n.category)||void 0===a?void 0:a.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Experience"}),(0,r.jsxs)("p",{className:"font-medium",children:[null===(c=e.provider)||void 0===c?void 0:c.experience_years," years"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Submitted"}),(0,r.jsx)("p",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString()})]})]}),e.document_url&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Verification Document"}),(0,r.jsx)("a",{href:e.document_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"View Document â†’"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,r.jsx)("button",{onClick:()=>u(e.id),className:"btn-primary",children:"Approve"}),(0,r.jsx)("button",{onClick:()=>p(e.id),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Reject"})]})]})},e.id)})})]})]})}}},function(e){e.O(0,[173,871,774,888,179],function(){return e(e.s=6181)}),_N_E=e.O()}]);