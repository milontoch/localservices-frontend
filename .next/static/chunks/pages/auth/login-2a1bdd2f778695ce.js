(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{2505:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return a(5823)}])},5823:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return m}});var n=a(5893),t=a(7294),i=a(1163),r=a(9008),l=a.n(r),d=a(1664),c=a.n(d),u=a(9871),o=a(8561);function m(){let e=(0,i.useRouter)(),[s,a]=(0,t.useState)({email:"",password:"",user_type:"user"}),[r,d]=(0,t.useState)(""),[m,x]=(0,t.useState)(!1),h=async a=>{a.preventDefault(),d(""),x(!0);try{let a=await (0,o.x4)(s);(0,o.uB)(a.data.access_token),(0,o.av)(a.data.user),e.push("/")}catch(e){var n,t;d((null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.error)||"Login failed")}finally{x(!1)}};return(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(l(),{children:(0,n.jsx)("title",{children:"Login - LocalServices"})}),(0,n.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,n.jsxs)("div",{className:"max-w-md mx-auto card",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Login"}),r&&(0,n.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:r}),(0,n.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Account Type"}),(0,n.jsxs)("select",{value:s.user_type,onChange:e=>a({...s,user_type:e.target.value}),className:"input-field",children:[(0,n.jsx)("option",{value:"user",children:"Customer"}),(0,n.jsx)("option",{value:"provider",children:"Service Provider"}),(0,n.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email"}),(0,n.jsx)("input",{type:"email",value:s.email,onChange:e=>a({...s,email:e.target.value}),className:"input-field",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Password"}),(0,n.jsx)("input",{type:"password",value:s.password,onChange:e=>a({...s,password:e.target.value}),className:"input-field",required:!0})]}),(0,n.jsx)("button",{type:"submit",disabled:m,className:"btn-primary w-full",children:m?"Logging in...":"Login"})]}),(0,n.jsx)("div",{className:"mt-6 text-center",children:(0,n.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,n.jsx)(c(),{href:"/auth/register",className:"text-primary-600 hover:underline",children:"Sign up"})]})})]})})]})}}},function(e){e.O(0,[173,871,774,888,179],function(){return e(e.s=2505)}),_N_E=e.O()}]);