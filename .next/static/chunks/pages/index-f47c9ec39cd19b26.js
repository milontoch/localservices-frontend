(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2304)}])},9871:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5893),s=r(1664),a=r.n(s),c=r(1163),i=r(7294),o=r(8561);function l(e){let{children:t}=e,r=(0,c.useRouter)(),[s,l]=(0,i.useState)(null);return(0,i.useEffect)(()=>{l((0,o.PR)())},[]),(0,n.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,n.jsx)("nav",{className:"bg-white shadow-md",children:(0,n.jsx)("div",{className:"container mx-auto px-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,n.jsx)(a(),{href:"/",className:"text-2xl font-bold text-primary-600",children:"LocalServices"}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(a(),{href:"/blog",className:"text-gray-700 hover:text-primary-600",children:"Blog"}),s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"text-gray-700",children:["Hi, ",s.full_name||s.name]}),(0,n.jsx)("button",{onClick:()=>{(0,o.H6)(),(0,o.kX)(),l(null),r.push("/")},className:"btn-secondary",children:"Logout"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{href:"/auth/login",className:"text-gray-700 hover:text-primary-600",children:"Login"}),(0,n.jsx)(a(),{href:"/auth/register",className:"btn-primary",children:"Sign Up"}),(0,n.jsx)(a(),{href:"/provider/register",className:"btn-secondary",children:"Register as Provider"})]})]})]})})}),(0,n.jsx)("main",{className:"flex-grow",children:t})]})}},4865:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(5893),s=r(1664),a=r.n(s),c=r(1782);function i(e){var t;let{provider:r}=e;return(0,n.jsx)(a(),{href:"/providers/".concat(r.id),children:(0,n.jsxs)("div",{className:"card hover:shadow-xl transition-shadow cursor-pointer",children:[(0,n.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-xl font-semibold",children:r.full_name}),(0,n.jsx)("p",{className:"text-gray-600",children:null===(t=r.category)||void 0===t?void 0:t.name})]}),r.is_verified&&(0,n.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"✓ Verified"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)(c.Z,{rating:r.rating_avg||0}),(0,n.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[r.experience_years," years experience"]})]}),r.distance&&(0,n.jsxs)("p",{className:"text-sm text-primary-600",children:["\uD83D\uDCCD ",r.distance.toFixed(1)," km away"]}),(0,n.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:[r.reviews_count||0," reviews"]})})]})})}},1782:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5893);function s(e){let{rating:t}=e,r=Math.floor(t),s=t%1>=.5;return(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[[...Array(r)].map((e,t)=>(0,n.jsx)("span",{className:"text-yellow-400",children:"★"},"full-".concat(t))),s&&(0,n.jsx)("span",{className:"text-yellow-400",children:"☆"}),[...Array(5-r-(s?1:0))].map((e,t)=>(0,n.jsx)("span",{className:"text-gray-300",children:"★"},"empty-".concat(t))),(0,n.jsx)("span",{className:"text-sm text-gray-600 ml-2",children:t.toFixed(1)})]})}},9680:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(5893),s=r(7294),a=r(8806);function c(e){let{onSearch:t}=e,[r,c]=(0,s.useState)(""),[i,o]=(0,s.useState)(""),[l,d]=(0,s.useState)(!1),u=async e=>{e.preventDefault();let n={category:r,location:i};if(l)try{let e=await (0,a.v)();n={...n,lat:e.lat,lng:e.lng}}catch(e){console.error("Error getting location:",e)}t(n)},m=async()=>{try{let e=await (0,a.v)();o("".concat(e.lat.toFixed(4),", ").concat(e.lng.toFixed(4))),d(!0)}catch(e){alert("Could not get your location. Please enter manually.")}};return(0,n.jsx)("form",{onSubmit:u,className:"bg-white rounded-lg shadow-lg p-6",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Category"}),(0,n.jsxs)("select",{value:r,onChange:e=>c(e.target.value),className:"input-field",children:[(0,n.jsx)("option",{value:"",children:"All Categories"}),["plumber","carpenter","gardener","fumigation","catering","cleaner","electrician"].map(e=>(0,n.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,n.jsx)("input",{type:"text",value:i,onChange:e=>{o(e.target.value),d(!1)},placeholder:"Enter location or use current",className:"input-field"})]}),(0,n.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,n.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:"Search"}),(0,n.jsx)("button",{type:"button",onClick:m,className:"btn-secondary whitespace-nowrap",children:"\uD83D\uDCCD Use My Location"})]})]})})}},2304:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(5893),s=r(7294),a=r(9008),c=r.n(a),i=r(1163),o=r(9871),l=r(9680),d=r(4865),u=r(8561);function m(){let e=(0,i.useRouter)(),[t,r]=(0,s.useState)([]),[a,m]=(0,s.useState)([]),[x,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{p()},[]);let p=async()=>{try{let[e,t]=await Promise.all([(0,u.CP)(),(0,u.J9)({per_page:6,min_rating:4})]);r(e.data),m(t.data.data||[])}catch(e){console.error("Error fetching data:",e)}finally{h(!1)}},g=t=>{e.push("/search?category=".concat(t))};return(0,n.jsxs)(o.Z,{children:[(0,n.jsxs)(c(),{children:[(0,n.jsx)("title",{children:"LocalServices - Find Trusted Service Providers Near You"}),(0,n.jsx)("meta",{name:"description",content:"Connect with verified local service providers for plumbing, carpentry, cleaning, and more."})]}),(0,n.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white py-20",children:(0,n.jsx)("div",{className:"container mx-auto px-4",children:(0,n.jsxs)("div",{className:"max-w-3xl mx-auto text-center",children:[(0,n.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Find Trusted Local Service Providers"}),(0,n.jsx)("p",{className:"text-xl mb-8",children:"Connect with verified professionals in your area"}),(0,n.jsx)(l.Z,{onSearch:t=>{let r=new URLSearchParams;t.category&&r.append("category",t.category),t.location&&r.append("q",t.location),t.lat&&r.append("lat",t.lat),t.lng&&r.append("lng",t.lng),e.push("/search?".concat(r.toString()))}})]})})}),(0,n.jsxs)("div",{className:"container mx-auto px-4 py-16",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold text-center mb-8",children:"Browse by Category"}),x?(0,n.jsx)("div",{className:"text-center",children:"Loading..."}):(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:t.map(e=>(0,n.jsxs)("button",{onClick:()=>g(e.slug),className:"card hover:shadow-lg transition-shadow text-center cursor-pointer",children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDD27"}),(0,n.jsx)("h3",{className:"font-semibold",children:e.name}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:[e.providers_count||0," providers"]})]},e.id))})]}),(0,n.jsx)("div",{className:"bg-gray-50 py-16",children:(0,n.jsxs)("div",{className:"container mx-auto px-4",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold text-center mb-8",children:"Top Rated Providers"}),x?(0,n.jsx)("div",{className:"text-center",children:"Loading..."}):(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(e=>(0,n.jsx)(d.Z,{provider:e},e.id))})]})}),(0,n.jsx)("footer",{className:"bg-gray-800 text-white py-8",children:(0,n.jsx)("div",{className:"container mx-auto px-4",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h3",{className:"text-xl font-bold mb-4",children:"LocalServices"}),(0,n.jsx)("p",{className:"text-gray-400 mb-4",children:"Connecting customers with trusted service providers"}),(0,n.jsx)("div",{className:"flex justify-center space-x-6",children:(0,n.jsx)("a",{href:"mailto:support@localservices.com",className:"hover:text-primary-400",children:"Contact: support@localservices.com"})}),(0,n.jsx)("p",{className:"text-gray-500 mt-4 text-sm",children:"\xa9 2024 LocalServices. All rights reserved."})]})})})]})}},8561:function(e,t,r){"use strict";r.d(t,{CP:function(){return u},H6:function(){return D},J8:function(){return w},J9:function(){return m},Ji:function(){return P},Mu:function(){return d},NI:function(){return g},NN:function(){return C},PR:function(){return R},SK:function(){return S},V:function(){return N},VH:function(){return x},XU:function(){return h},av:function(){return I},bW:function(){return E},bl:function(){return y},dS:function(){return p},k4:function(){return k},kX:function(){return T},oO:function(){return f},sv:function(){return _},t1:function(){return l},u3:function(){return v},uB:function(){return L},wd:function(){return i},x4:function(){return o},xQ:function(){return b},z2:function(){return c},zl:function(){return j}});var n=r(7066);let s=r(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1",a=n.Z.create({baseURL:s,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let c=e=>a.post("/auth/register",e),i=e=>a.post("/auth/register-provider",e),o=e=>a.post("/auth/login",e),l=e=>a.post("/auth/request-otp",e),d=e=>a.post("/auth/verify-otp",e),u=()=>a.get("/categories"),m=e=>a.get("/providers",{params:e}),x=e=>a.get("/providers/".concat(e)),h=e=>a.post("/reviews",e),p=e=>a.post("/contact-records",e),g=e=>a.get("/contact-records/check",{params:e}),f=e=>a.post("/verifications",e,{headers:{"Content-Type":"multipart/form-data"}}),v=e=>a.get("/blog",{params:e}),j=e=>a.get("/blog/".concat(e)),N=()=>a.get("/admin/blog"),y=e=>a.post("/admin/blog",e,{headers:{"Content-Type":"multipart/form-data"}}),b=e=>a.delete("/admin/blog/".concat(e)),w=()=>a.get("/admin/verifications"),_=(e,t)=>a.put("/admin/verifications/".concat(e),t),S=e=>a.get("/admin/users",{params:e}),C=e=>a.get("/admin/providers",{params:e}),P=e=>a.get("/admin/reviews",{params:e}),k=e=>a.delete("/admin/reviews/".concat(e)),L=e=>{localStorage.setItem("access_token",e)},E=()=>localStorage.getItem("access_token"),D=()=>{localStorage.removeItem("access_token")},I=e=>{localStorage.setItem("user",JSON.stringify(e))},R=()=>{let e=localStorage.getItem("user");return e?JSON.parse(e):null},T=()=>{localStorage.removeItem("user")}},8806:function(e,t,r){"use strict";r.d(t,{g:function(){return a},v:function(){return c}});var n=r(7066);let s=r(3454).env.NEXT_PUBLIC_MAPBOX_KEY,a=async e=>{try{let t=await n.Z.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(encodeURIComponent(e),".json"),{params:{access_token:s,limit:1}});if(t.data.features.length>0){let[e,r]=t.data.features[0].center;return{lat:r,lng:e}}return null}catch(e){return console.error("Geocoding error:",e),null}},c=()=>new Promise((e,t)=>{if(!navigator.geolocation){t(Error("Geolocation not supported"));return}navigator.geolocation.getCurrentPosition(t=>{e({lat:t.coords.latitude,lng:t.coords.longitude})},e=>t(e))})}},function(e){e.O(0,[173,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);