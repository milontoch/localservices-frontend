(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(2304)}])},4865:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(5893),r=a(1664),n=a.n(r),l=a(1782);function i(e){var t;let{provider:a}=e;return(0,s.jsx)(n(),{href:"/providers/".concat(a.id),children:(0,s.jsxs)("div",{className:"card hover:shadow-md cursor-pointer",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 hover:text-blue-600 transition-colors",children:a.full_name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:null===(t=a.category)||void 0===t?void 0:t.name})]}),a.is_verified&&(0,s.jsx)("span",{className:"badge badge-green text-xs ml-2",children:"âœ“ Verified"})]}),(0,s.jsxs)("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[(0,s.jsx)(l.Z,{rating:a.rating_avg||0}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[a.experience_years||0," years experience"]})]}),a.distance&&(0,s.jsxs)("p",{className:"text-sm text-blue-600",children:["\uD83D\uDCCD ",a.distance.toFixed(1)," km away"]}),(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[a.reviews_count||0," reviews"]})})]})})}},9680:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(5893),r=a(7294),n=a(8806);function l(e){let{onSearch:t}=e,[a,l]=(0,r.useState)(""),[i,c]=(0,r.useState)(""),[o,d]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),u=async e=>{e.preventDefault();let s={category:a,location:i};if(o)try{m(!0);let e=await (0,n.v)();s={...s,lat:e.lat,lng:e.lng}}catch(e){console.error("Error getting location:",e)}finally{m(!1)}t(s)},h=async()=>{try{m(!0);let e=await (0,n.v)();c("".concat(e.lat.toFixed(4),", ").concat(e.lng.toFixed(4))),d(!0)}catch(e){alert("Could not get your location. Please enter manually.")}finally{m(!1)}};return(0,s.jsx)("form",{onSubmit:u,className:"card",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Service Category"}),(0,s.jsxs)("select",{value:a,onChange:e=>l(e.target.value),className:"select-field",disabled:x,children:[(0,s.jsx)("option",{value:"",children:"All Categories"}),["plumber","carpenter","gardener","fumigation","catering","cleaner","electrician"].map(e=>(0,s.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Location"}),(0,s.jsx)("input",{type:"text",value:i,onChange:e=>{c(e.target.value),d(!1)},placeholder:"Enter location or use current",className:"input-field",disabled:x})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-end space-y-2",children:[(0,s.jsx)("button",{type:"submit",className:"btn-primary",disabled:x,children:x?"Loading...":"Search"}),(0,s.jsx)("button",{type:"button",onClick:h,className:"btn-secondary",disabled:x,children:"Use My Location"})]})]})})}},2304:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(5893),r=a(7294),n=a(9008),l=a.n(n),i=a(1163),c=a(9871),o=a(9680),d=a(4865),x=a(8561);function m(){let e=(0,i.useRouter)(),[t,a]=(0,r.useState)([]),[n,m]=(0,r.useState)([]),[u,h]=(0,r.useState)(!0);(0,r.useEffect)(()=>{p()},[]);let p=async()=>{try{let[e,t]=await Promise.all([(0,x.CP)(),(0,x.J9)({per_page:6,min_rating:4})]);a(e.data),m(t.data.data||[])}catch(e){console.error("Error fetching data:",e)}finally{h(!1)}},g=t=>{e.push("/search?category=".concat(t))};return(0,s.jsxs)(c.Z,{children:[(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:"LocalServices - Find Trusted Service Providers Near You"}),(0,s.jsx)("meta",{name:"description",content:"Connect with verified local service providers for plumbing, carpentry, cleaning, and more."})]}),(0,s.jsx)("section",{className:"bg-blue-50 py-12 md:py-16",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,s.jsxs)("div",{className:"max-w-3xl mx-auto text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4",children:"Find Trusted Local Service Providers"}),(0,s.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Connect with verified professionals in your area"})]}),(0,s.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,s.jsx)(o.Z,{onSearch:t=>{let a=new URLSearchParams;t.category&&a.append("category",t.category),t.location&&a.append("q",t.location),t.lat&&a.append("lat",t.lat),t.lng&&a.append("lng",t.lng),e.push("/search?".concat(a.toString()))}})})]})}),(0,s.jsx)("section",{className:"py-12 md:py-16 bg-white",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{className:"section-title",children:"Browse by Category"}),(0,s.jsx)("p",{className:"text-muted",children:"Find the service you need"})]}),u?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-muted",children:"Loading categories..."})}):0===t.length?(0,s.jsx)("div",{className:"text-center py-12 text-muted",children:"No categories available"}):(0,s.jsx)("div",{className:"grid-auto md:grid-cols-2 lg:grid-cols-4",children:t.map(e=>(0,s.jsxs)("button",{onClick:()=>g(e.slug),className:"card text-center hover:border-blue-300 transition-all duration-200",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.providers_count||0," providers"]})]},e.id))})]})}),(0,s.jsx)("section",{className:"py-12 md:py-16 bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{className:"section-title",children:"Top Rated Providers"}),(0,s.jsx)("p",{className:"text-muted",children:"Our most trusted professionals"})]}),u?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-muted",children:"Loading providers..."})}):0===n.length?(0,s.jsx)("div",{className:"text-center py-12 text-muted",children:"No featured providers available"}):(0,s.jsx)("div",{className:"grid-3",children:n.map(e=>(0,s.jsx)(d.Z,{provider:e},e.id))})]})})]})}},8806:function(e,t,a){"use strict";a.d(t,{g:function(){return n},v:function(){return l}});var s=a(7066);let r=a(3454).env.NEXT_PUBLIC_MAPBOX_KEY,n=async e=>{try{let t=await s.Z.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(encodeURIComponent(e),".json"),{params:{access_token:r,limit:1}});if(t.data.features.length>0){let[e,a]=t.data.features[0].center;return{lat:a,lng:e}}return null}catch(e){return console.error("Geocoding error:",e),null}},l=()=>new Promise((e,t)=>{if(!navigator.geolocation){t(Error("Geolocation not supported"));return}navigator.geolocation.getCurrentPosition(t=>{e({lat:t.coords.latitude,lng:t.coords.longitude})},e=>t(e))})}},function(e){e.O(0,[173,804,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);